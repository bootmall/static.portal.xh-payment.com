webpackJsonp([42],{"3H7i":function(e,t,n){t=e.exports=n("FZ+f")(!1),t.push([e.i,".login-container{position:relative;background-color:#eee;width:100%;height:100%}.login-container .el-input__inner{border:1px solid #eee}.login-container input{border:0;-webkit-appearance:none;border-radius:0;padding:12px 5px 12px 15px;color:#2d3a4b;height:47px}.login-container .el-input{display:inline-block;height:47px;width:85%}.login-container .tips{font-size:14px;color:#fff;margin-bottom:10px}.login-container .svg-container{padding:6px 5px 5px;color:#fff;vertical-align:middle;width:30px;display:inline-block;font-size:20px}.login-container .svg-container_login{font-size:25px}.login-container .login-form .title{font-size:30px;font-weight:400;color:#dddeee;margin:20px auto;text-align:center;font-weight:700;height:50px;line-height:50px}.login-container .login-form{width:400px;height:350px;margin-top:50px;margin-bottom:50px;float:right;margin-right:200px;background-color:#000;background-color:rgba(0,0,0,.2);border-radius:10px;-moz-border-radius:10px}.login-container .el-form-item{border-radius:5px;color:#454545}.login-container .show-pwd{position:absolute;right:10px;top:7px;font-size:16px;color:#889aa4;cursor:pointer;user-select:none;right:20px!important}.login-container .el-form-ul{list-style:none;margin:0;padding:0}.login-container .item-captcha a{margin-left:10px;display:inline-block;color:orange}.login-container .item-captcha img{vertical-align:middle;display:inline-block}.login-container .item-captcha .el-captcha{width:45%!important}.login-container .reg-btns{border:none;background-color:transparent;text-align:center;margin-left:20px}.login-container .reg-btns:first-child{margin-left:0}.login-container .key_2fa input{height:24px;color:#000}.login-container .head-logo{height:114px!important;width:100%;margin:0}.login-container .head-logo img{float:left;margin-left:150px}.login-container .el-main{background:url("+n("SOLQ")+") no-repeat;background-size:100% 100%;margin:0;min-height:500px}.login-container .el-footer{background:url("+n("8Bcc")+") 50% no-repeat;height:120px!important}.login-container .el-form-item__error{padding-left:10px;font-weight:bolder}",""])},"3ReZ":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login-container"},[a("el-dialog",{attrs:{title:"安全令牌",visible:e.keyVisible,width:"30%"},on:{"update:visible":function(t){e.keyVisible=t}}},[e._v("\n        令牌码：\n        "),a("el-input",{staticClass:"key_2fa",staticStyle:{border:"1px solid #5a5e66",height:"26px"},model:{value:e.key_2fa,callback:function(t){e.key_2fa=t},expression:"key_2fa"}}),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.keyVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.loadingKey},on:{click:e.handleKey}},[e._v("确 定")])],1)],1),e._v(" "),a("el-container",[a("el-header",{staticClass:"head-logo"},[a("img",{attrs:{src:n("Vpqn")}})]),e._v(" "),a("el-main",[a("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{autoComplete:"on",model:e.loginForm,rules:e.loginRules,"label-position":"left"}},[a("h3",{staticClass:"title"},[e._v("会员登录")]),e._v(" "),a("el-form-item",{attrs:{prop:"username"}},[a("span",{staticClass:"svg-container svg-container_login"},[a("svg-icon",{attrs:{"icon-class":"user"}})],1),e._v(" "),a("el-input",{attrs:{name:"username",type:"text",autoComplete:"on",placeholder:"用户名"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"password"}},[a("span",{staticClass:"svg-container"},[a("svg-icon",{attrs:{"icon-class":"password"}})],1),e._v(" "),a("el-input",{attrs:{name:"password",type:e.pwdType,autoComplete:"on",placeholder:"密码"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.handleLogin(t)}},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}}),e._v(" "),a("span",{staticClass:"show-pwd",on:{click:e.showPwd}},[a("svg-icon",{attrs:{"icon-class":"eye"}})],1)],1),e._v(" "),a("el-form-item",{staticClass:"item-captcha",attrs:{prop:"captchaCode"}},[a("span",{staticClass:"svg-container"},[a("svg-icon",{attrs:{"icon-class":"documentation"}})],1),e._v(" "),a("el-input",{staticClass:"el-captcha",attrs:{label:"图片验证码"},model:{value:e.loginForm.captchaCode,callback:function(t){e.$set(e.loginForm,"captchaCode",t)},expression:"loginForm.captchaCode"}}),e._v(" "),e.captchaBase64?a("img",{attrs:{src:e.captchaBase64},on:{click:e.refreshCaptcha}}):e._e(),e._v(" "),e.captchaBase64?a("a",{on:{click:e.refreshCaptcha}},[e._v("刷新")]):e._e()],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12,offset:6}},[a("el-button",{staticStyle:{width:"100%","margin-bottom":"30px"},attrs:{type:"primary",loading:e.loading},nativeOn:{click:function(t){t.preventDefault(),e.handleLogin(t)}}},[e._v("登录")])],1)],1)],1)],1),e._v(" "),a("el-footer")],1)],1)},o=[],i={render:a,staticRenderFns:o};t.a=i},"8Bcc":function(e,t,n){e.exports=n.p+"static/img/login-banks.287876b.png"},E4LH:function(e,t,n){"use strict";function a(e,t,n){/^[0-9A-Za-z_-]{6,24}$/.test(t)?n():n(new Error("用户名为长度在6-24之间的数字字母"))}function o(e){return/^1[0-9]{10}$/.test(e)}function i(e){return/^(https?|ftp):\/\/([a-zA-Z0-9.-]+(:[a-zA-Z0-9.&%$-]+)*@)*((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])){3}|([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+\.(com|edu|gov|int|mil|net|org|biz|arpa|info|name|pro|aero|coop|museum|[a-zA-Z]{2}))(:[0-9]+)*(\/($|[a-zA-Z0-9.,?'\\+&%$#=~_-]+))*$/.test(e)}function r(e){return/^[a-z]+$/.test(e)}function s(e){return/^[A-Z]+$/.test(e)}function l(e){return/^[A-Za-z]+$/.test(e)}function c(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.isvalidUsername=a,t.isMobile=o,t.validateURL=i,t.validateLowerCase=r,t.validateUpperCase=s,t.validateAlphabets=l,t.validateEmail=c},SOLQ:function(e,t,n){e.exports=n.p+"static/img/login-main-bg.9639772.png"},"T+/8":function(e,t,n){"use strict";function a(e){n("hUtR")}Object.defineProperty(t,"__esModule",{value:!0});var o=n("m1D0"),i=n.n(o),r=n("3ReZ"),s=n("VU/8"),l=a,c=s(i.a,r.a,!1,l,null,null);t.default=c.exports},Vpqn:function(e,t){e.exports="data:image/png;base64,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"},hUtR:function(e,t,n){var a=n("3H7i");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n("rjj0")("0007ff72",a,!0)},m1D0:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n("E4LH"),i=n("X2Oc"),r=a(i),s=n("3pLw"),l=a(s);t.default={components:{},name:"login",data:function(){var e=this,t=function(e,t,n){t.length<6?n(new Error("密码不能小于6位")):n()},n=function(t,n,a){/^(\w){4,6}$/.test(n)?(e.validateRet.captchaCode=1,a()):a(new Error("验证码错误:1"))};return{loginForm:{username:"",password:"",captchaCode:"",captchaSid:""},key_2fa:null,userId:null,loginRules:{username:[{required:!0,trigger:"blur",validator:o.isvalidUsername}],password:[{required:!0,trigger:"blur",validator:t}],captchaCode:[{required:!0,trigger:"blur",validator:n}]},pwdType:"password",captchaBase64:"",validateRet:{},loading:!1,loadingKey:!1,showDialog:!1,keyVisible:!1,siteInfo:{siteName:""}}},methods:{showPwd:function(){"password"===this.pwdType?this.pwdType="":this.pwdType="password"},refreshCaptcha:function(){var e=this;l.default.post("/captcha/index").then(function(t){0==t.code?(e.captchaBase64=t.data.base64Img,e.loginForm.captchaSid=t.data.sid,console.log("self.loginForm.captchaSid",e.loginForm.captchaSid)):e.$message.error("图片验证码获取失败")})},validateCaptchaCode:function(e,t,n,a){var o=this;if(t.length<4)return void n(new Error("验证码不能小于4位"));l.default.post("/captcha/verify",{captchaCode:t,captchaSid:this.loginForm.captchaSid}).then(function(e){0==e.code?(o.validateRet.captchaCode=1,n()):(o.refreshCaptcha(),n(new Error("验证码错误或已过期")))})},getSiteInfo:function(){var e=this;l.default.post("/util/site-info").then(function(t){0==t.code&&(r.default.setStorage("siteInfo",t.data),void 0!==t.data.siteName&&(document.title=t.data.siteName,e.siteInfo.siteName=t.data.siteName))})},handleLogin:function(){var e=this;this.$refs.loginForm.validate(function(t){if(!t)return e.$message.error({message:"信息填写错误2，请检查"}),!1;e.loading=!0,e.$store.dispatch("LoginByUsername",e.loginForm).then(function(t){void 0!==t.data.key_2fa&&t.data.key_2fa.length>0?e.keyVisible=!0:(e.$message.success({message:t.message}),e.loading=!1,setTimeout(function(){window.location.reload()},50))},function(t){console.log("axios post err.",t),e.$message.error({message:t.message}),e.loading=!1}).catch(function(t){e.loading=!1,e.$message.error({message:"信息填写错误1，请检查"})})})},handleKey:function(){var e=this;if(this.loadingKey=!0,6!=this.key_2fa.length)return void this.$message.error({message:"请填写6位安全码"});var t={key_2fa:this.key_2fa};l.default.post("/user/verify-key",t).then(function(t){0==t.code?(e.keyVisible=!1,e.$message.success({message:t.message}),setTimeout(function(){window.location.reload()},50)):(e.$message.error({message:t.message}),e.loadingKey=!1)})}},created:function(){r.default.setDeviceClientId(),this.getSiteInfo(),this.refreshCaptcha()},destroyed:function(){}}}});